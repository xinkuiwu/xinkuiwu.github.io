<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>伍新奎的博客空间 - Talk is cheap, code the code</title><meta name="author" content="伍新奎"><meta name="copyright" content="伍新奎"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="前端开发工程师">
<meta property="og:type" content="website">
<meta property="og:title" content="伍新奎的博客空间">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="伍新奎的博客空间">
<meta property="og:description" content="前端开发工程师">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/blog_wxk.jpg">
<meta property="article:author" content="伍新奎">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/blog_wxk.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/page/2/index.html"><link rel="preconnect" href="https://lib.baomitu.com"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lib.baomitu.com/font-awesome/6.4.2/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://lib.baomitu.com/fancyapps-ui/5.0.24/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://lib.baomitu.com/egjs-infinitegrid/4.10.1/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '伍新奎的博客空间',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-12-05 16:47:58'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.0.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/blog_wxk.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">78</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">128</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">52</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="伍新奎的博客空间"><span class="site-name">伍新奎的博客空间</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/02/21/blog65/" title="NestJS 中使用esm">NestJS 中使用esm</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-02-21T07:06:01.000Z" title="Created 2022-02-21 15:06:01">2022-02-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/nodejs/">nodejs</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/nestjs/">nestjs</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/nodejs/">nodejs</a></span></div><div class="content">NestJS 中使用esm先说结论修改tsconfig 如下，修改 module&#x2F;moduleResolution 这两个字段
1234567891011121314151617&#123;  &quot;compilerOptions&quot;: &#123;    &quot;module&quot;: &quot;Node16&quot;, // +    &quot;moduleResolution&quot;: &quot;Node&quot;, // +    &quot;declaration&quot;: true,    &quot;removeComments&quot;: true,    &quot;emitDecoratorMetadata&quot;: true,    &quot;experimentalDecorators&quot;: true,    &quot;allowSyntheticDefaultImports&quot;: true,    &quot;target&quot;: &quot;es2017&quot;,    & ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/12/25/blog64/" title="管理平台监控调研">管理平台监控调研</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-12-25T07:02:01.000Z" title="Created 2021-12-25 15:02:01">2021-12-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%9B%91%E6%8E%A7/">监控</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E7%9B%91%E6%8E%A7/">监控</a></span></div><div class="content">

管理平台监控调研一、背景对于管理平台未提供前端监控，无法主动发现报错、页面首屏加载时长、用户浏览器环境等影响用户体验的问题。因此，有必要实现一套前端监控体系方案，旨在提升平台质量和降低排查问题成本。
二、目标针对目前各管理平台项目没有提供监控体系功能，将制定一套前端监控体系 SDK，帮助平台开发者快速接入前端监控功能而无需手动实现。
结合目前技术选型和业务情况，前端监控 SDK 需要支持的能力包括以下几点：
异常监控
API 请求异常监控
JS 异常监控
静态资源加载异常监控
Promise 未捕获异常监控

性能监控
页面加载性能
TTFE：首包响应时间
First Paint：首屏渲染时间
DOM Ready：DOM 就位时间
First Interactive：首次可交互时间



埋点上报
支持自动采集异常信息
支持自动采集性能信息
支持数据埋点
浏览器环境
页面访问 pv、uv
手动埋点定制化数据



报警响应
支持报警规则配置
支持 sea talk 通知
支持邮件通知业务 owner

三、方案这里我们主要讨论三个方案

开源方案 — sentry
自研 SDK

 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/11/30/blog63/" title="微前端简介">微前端简介</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-11-30T09:01:01.000Z" title="Created 2021-11-30 17:01:01">2021-11-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%BE%AE%E5%89%8D%E7%AB%AF/">微前端</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%BE%AE%E5%89%8D%E7%AB%AF/">微前端</a></span></div><div class="content">

一、什么是微前端微前端（Micro-Frontends）是一种类似于微服务的架构，它将微服务的理念应用于浏览器端，即将 Web 应用由单一的单体应用转变为多个小型前端应用聚合为一的应用。各个前端应用还可以独立运行、独立开发、独立部署。微前端不是单纯的前端框架或者工具，而是一套架构体系。
任何新技术的产生都是为了解决现有场景和需求下的技术痛点，微前端也不例外：

拆分和细化：当下前端领域，单页面应用（SPA）是非常流行的项目形态之一，而随着时间的推移以及应用功能的丰富，单页应用变得不再单一而是越来越庞大也越来越难以维护，往往是改一处而动全身，由此带来的发版成本也越来越高。微前端的意义就是将这些庞大应用进行拆分，并随之解耦，每个部分可以单独进行维护和部署，提升效率。
整合历史系统：在不少的业务中，或多或少会存在一些历史项目，这些项目大多以采用老框架（Backbone.js，Angular.js ）的B端管理系统为主，介于日常运营，这些系统需要结合到新框架中来使用还不能抛弃，对此我们也没有理由浪费时间和精力重写旧的逻辑。而微前端可以将这些系统进行整合，在基本不修改来逻辑的同时来同时兼容新 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/10/25/blog62/" title="hive和数据库对比总结">hive和数据库对比总结</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-10-25T06:01:01.000Z" title="Created 2021-10-25 14:01:01">2021-10-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/hive/">hive</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/hive/">hive</a></span></div><div class="content">

hive和数据库对比总结基本概念Hadoop:
Hadoop是一个由Apache基金会所开发的分布式系统基础架构。用户可以在不了解分布式底层细节的情况下，开发分布式程序。充分利用集群的威力进行高速运算和存储。
Hadoop实现了一个分布式文件系统（ Distributed File System），其中一个组件是HDFS（Hadoop Distributed File System）。HDFS有高容错性的特点，并且设计用来部署在低廉的（low-cost）硬件上；而且它提供高吞吐量（high throughput）来访问应用程序的数据，适合那些有着超大数据集（large data set）的应用程序。HDFS放宽了POSIX（可移植操作系统接口）的要求，可以以流的形式访问（streaming access）文件系统中的数据。
Hadoop的框架最核心的设计就是：HDFS和MapReduce。HDFS为海量的数据提供了存储，而MapReduce则为海量的数据提供了计算。
简单了解一下hadoop的前世今生：https://zhuanlan.zhihu.com/p/54994736?ut ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/09/25/blog67/" title="代码注释规范">代码注释规范</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-09-25T03:02:03.000Z" title="Created 2021-09-25 11:02:03">2021-09-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%A7%84%E8%8C%83/">规范</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E4%BB%A3%E7%A0%81%E6%B3%A8%E9%87%8A/">代码注释</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E8%A7%84%E8%8C%83/">规范</a></span></div><div class="content">1、文件注释&#x2F;** @Author:xxx@xx* @Date: 2021-09-25 17:02:51* @LastEditTime: 2021-09-30 00:26:09* @LastEditors:xxx@xx* @Description: 应用的入口文件* @FilePath: &#x2F;xx&#x2F;src&#x2F;index.jsx*&#x2F;
2、函数注释&#x2F;*** @description: 给没有数据的日期填充undefined值* @param {Array} 填充前的数据* @param {String} 按哪个属性进行分组* @return {Array} 填充后的数据*&#x2F;
3、块注释&#x2F;* 块注释 *&#x2F;
4、行注释&#x2F;&#x2F; 行注释
5、scss注释&#x2F;* 块注释 *&#x2F;
&#x2F;&#x2F; 行注释
6、vscode插件koroFileHeader
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/09/10/blog61/" title="typeorm-model-generator 生成TypeOrm实体类">typeorm-model-generator 生成TypeOrm实体类</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-09-10T02:01:01.000Z" title="Created 2021-09-10 10:01:01">2021-09-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/nodejs/">nodejs</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/typeorm-model-generator%EF%BC%8Cnodejs/">typeorm-model-generator，nodejs</a></span></div><div class="content">

TypeOrm 支持 synchronize 这样直接同步entity到db的功能，不过这个用在线上有太大的风险。
并且目前我们的开发模式主要是先进行库表设计，再构建entity实体类进行开发；再就是对于已经有的库表，想使用的时候也需要自己构建entity；这样一来，维护本地entity于db中table的一致性，或者按照远程db中的table组装entity类比较繁琐。
typeorm-model-generator 这个工具可以直接连接对应db直接生成entity，方便使用，提升开发效率.
工具地址
https://github.com/Kononnable/typeorm-model-generator
目前这个项目处于只维护状态

直接使用npx 运行会少包导致运行失败

考虑到作者已经不怎么维护这个项目了，直接clone一份本地跑一下吧
1git clone https:``//github.com/Kononnable/typeorm-model-generator.git &amp;&amp; cd typeorm-model-generator &amp;&amp; ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/08/30/blog69/" title="代码检查工具">代码检查工具</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-08-30T08:02:03.000Z" title="Created 2021-08-30 16:02:03">2021-08-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%A7%84%E8%8C%83/">规范</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E8%A7%84%E8%8C%83/">规范</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E4%BB%A3%E7%A0%81%E6%A3%80%E6%9F%A5/">代码检查</a></span></div><div class="content">在vscode中安装ESLint和Stylelint，可以在保存代码时自动检查代码和格式化代码。

eslint和stylelint的配置中所需的插件已经集成在脚手架中， 无需单独配置
eslint和stylelint的vscode配置，已经保存在.vscode&#x2F;settings.json中，无需单独配置

一、ESLint：JavaScript编码规范（含React）1、使用eslint约束JavaScript的编写，集成以下插件规则：

react&#x2F;recommended：React规则
react-hooks&#x2F;recommended：React hooks规则
standard：代码质量检查
prettier&#x2F;recommended：代码格式检查

2、以下规则和最佳实践，供参考：

Google JavaScript Style Guide：https://google.github.io/styleguide/jsguide.html
Airbnb JavaScript Style Guide：https://github.com/ai ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/08/29/blog75/" title="React&amp;JSX 规范">React&amp;JSX 规范</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-08-29T01:02:03.000Z" title="Created 2021-08-29 09:02:03">2021-08-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/React/">React</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E8%A7%84%E8%8C%83/">规范</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/React/">React</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/JSX/">JSX</a></span></div><div class="content">React&amp;JSX 规范
本规范基本基于标准的 JavaScript 语法规范

基本规则
每个文件只包含一个 React 类组件
但是多个函数式组件可以放到一个文件中，eslint: react&#x2F;no-multi-comp


一般使用 JSX 语法
除非是在非 JSX 文件中初始化应用，否则不要使用 React.createElement

命名规范
组件文件扩展名

如果使用 JavaScript，则文件扩展名为 .js；如果使用 TypeScript，则文件扩展名为 .tsx

组件文件名

如果是组件文件，则使用 PascalCase，如 MyComponent.js
如果组件是一个目录，则组件主入口命名为 index，如 index.js

引用命名

React 组件使用 PascalCase，组件实例使用 CamelCase，eslint: react&#x2F;jsx-pascal-case
1234567891011// badimport reservationCard from &#x27;./ReservationCard&#x27;// g ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/08/14/blog60/" title="Nodejs监控方案">Nodejs监控方案</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-08-14T03:00:01.000Z" title="Created 2021-08-14 11:00:01">2021-08-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/nodejs/">nodejs</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E7%9B%91%E6%8E%A7%EF%BC%8Cnodejs/">监控，nodejs</a></span></div><div class="content">

Nodejs监控方案BFF 上线后，未提供监控能力，无法主动发现报错、接口性能等，需要有相应的指标监控 BFF 程序运行状况。
本方案以监控 BFF （Nest.js 应用），描述从指标制定到查看数据面板的过程。
目标BFF 的监控主要包含系统监控、服务监控、业务监控、报警响应四大类
监控指标


类型
指标类
指标名
描述



系统监控
容器指标
容器 CPU
Pod CPU 使用率


进程指标
进程 CPU
进程 CPU 使用率



服务监控
HTTP 指标
接口 QPS
所有接口请求量


接口 P99 延时
接口响应时间，取前 99%




接口 P95 延时
接口响应时间，取前 99%




接口成功率
http 状态码 200




RPC指标
同HTTP指标
&#x2F;



Spex指标
同HTTP指标
&#x2F;



业务监控
业务指标
根据业务具体场景而定
&#x2F;


报警响应
支持报警规则配置
支持邮件通知业务 owner

架构设计
主要架构模块按功能类别主要划分为三个类模块。

监控 SDK
以项目（Project）维度， 每个项目 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/07/25/blog59/" title="MySQL开发规范">MySQL开发规范</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-07-25T06:00:01.000Z" title="Created 2021-07-25 14:00:01">2021-07-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%A7%84%E8%8C%83/">规范</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E8%A7%84%E8%8C%83%EF%BC%8CMySQL/">规范，MySQL</a></span></div><div class="content">介绍：MySQL 开发规范


MySQL开发规范MySQL 开发规范背景对目前Node项目内的MYSQL开发方式拟定一个大致的规范。
命名规范
统一按照lower_case_with_underscores的命名方式
禁止使用mysql的关键字和保留字
命名的length长度小于32

DB
以_db为后缀，如account_db, shopee_account_db
以业务代码为前缀，如shopee_account_db, gop_txn_db
如果db是单独为某个region，如shopee_admin_vn_db
如果要分库，把sharding id放到_db后面，sharding id从0开始，占8位，如shopee_seller_dms_sg_db和shopee_seller_dms_id_db_00001000
db名称长度需要小于42(DBA)

Table
以_tab为后缀，表名不适用复数名词，如果要分表，把sharding id放到_tab后面，sharding id从0开始，占8位 ，如order_tab_00000000和login_log_tab_002018 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/#content-inner">8</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/blog_wxk.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">伍新奎</div><div class="author-info__description">前端开发工程师</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">78</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">128</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">52</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xinkuiwu"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/12/05/blog78/" title="blog78">blog78</a><time datetime="2023-12-05T08:46:53.000Z" title="Created 2023-12-05 16:46:53">2023-12-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/10/19/blog68/" title="antd table 设置横向滚动更新column遇到header错位">antd table 设置横向滚动更新column遇到header错位</a><time datetime="2022-10-19T02:02:03.000Z" title="Created 2022-10-19 10:02:03">2022-10-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/10/17/blog77/" title="vite和SnowPack简介">vite和SnowPack简介</a><time datetime="2022-10-17T10:02:03.000Z" title="Created 2022-10-17 18:02:03">2022-10-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/09/10/blog76/" title="国际化方案调研与应用">国际化方案调研与应用</a><time datetime="2022-09-10T02:02:03.000Z" title="Created 2022-09-10 10:02:03">2022-09-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/08/16/blog74/" title="React Keep-Alive设计方案">React Keep-Alive设计方案</a><time datetime="2022-08-16T01:02:03.000Z" title="Created 2022-08-16 09:02:03">2022-08-16</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="View More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/React/"><span class="card-category-list-name">React</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/VScode-%E9%85%8D%E7%BD%AE/"><span class="card-category-list-name">VScode 配置</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/antd/"><span class="card-category-list-name">antd</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/git/"><span class="card-category-list-name">git</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/hive/"><span class="card-category-list-name">hive</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/mysql/"><span class="card-category-list-name">mysql</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/node/"><span class="card-category-list-name">node</span><span class="card-category-list-count">9</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/nodejs/"><span class="card-category-list-name">nodejs</span><span class="card-category-list-count">4</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/%E7%9B%91%E6%8E%A7/" style="font-size: 1.1em; color: #999">监控</a> <a href="/tags/Nodejs-%E6%A8%A1%E5%9D%97/" style="font-size: 1.1em; color: #999">Nodejs 模块</a> <a href="/tags/%E8%A7%84%E8%8C%83%EF%BC%8C%E9%A1%B9%E7%9B%AE/" style="font-size: 1.1em; color: #999">规范，项目</a> <a href="/tags/Keep-Alive/" style="font-size: 1.1em; color: #999">Keep-Alive</a> <a href="/tags/antd/" style="font-size: 1.1em; color: #999">antd</a> <a href="/tags/mysql/" style="font-size: 1.1em; color: #999">mysql</a> <a href="/tags/%E4%BB%A3%E7%A0%81%E6%B3%A8%E9%87%8A/" style="font-size: 1.1em; color: #999">代码注释</a> <a href="/tags/nestjs/" style="font-size: 1.23em; color: #999ea6">nestjs</a> <a href="/tags/JavaScript%EF%BC%8CVue%EF%BC%8C%E8%B7%AF%E7%94%B1%E5%88%87%E6%8D%A2%EF%BC%8C%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1%EF%BC%8C%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%EF%BC%8C%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E8%AF%B7%E6%B1%82%EF%BC%8CCSS%E8%AE%BE%E8%AE%A1/" style="font-size: 1.1em; color: #999">JavaScript，Vue，路由切换，父子组件通信，状态管理，网络数据请求，CSS设计</a> <a href="/tags/SnowPack/" style="font-size: 1.1em; color: #999">SnowPack</a> <a href="/tags/%E8%BF%90%E8%A1%8C%E9%85%8D%E7%BD%AE/" style="font-size: 1.1em; color: #999">运行配置</a> <a href="/tags/%E5%A0%86%E6%8E%92%E5%BA%8F/" style="font-size: 1.1em; color: #999">堆排序</a> <a href="/tags/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" style="font-size: 1.1em; color: #999">生命周期</a> <a href="/tags/%E7%BB%84%E4%BB%B6%E5%8C%96/" style="font-size: 1.1em; color: #999">组件化</a> <a href="/tags/%E8%A7%84%E8%8C%83/" style="font-size: 1.37em; color: #99a4b2">规范</a> <a href="/tags/%E4%BA%8B%E4%BB%B6%E9%A9%B1%E5%8A%A8/" style="font-size: 1.1em; color: #999">事件驱动</a> <a href="/tags/Vuex%E9%85%8D%E7%BD%AE/" style="font-size: 1.1em; color: #999">Vuex配置</a> <a href="/tags/%E5%AD%97%E5%85%B8/" style="font-size: 1.1em; color: #999">字典</a> <a href="/tags/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/" style="font-size: 1.1em; color: #999">二叉搜索树</a> <a href="/tags/%E9%9D%9E%E9%98%BB%E5%A1%9EI-O/" style="font-size: 1.1em; color: #999">非阻塞I/O</a> <a href="/tags/package-json/" style="font-size: 1.1em; color: #999">package.json</a> <a href="/tags/%E5%BC%82%E6%AD%A5/" style="font-size: 1.1em; color: #999">异步</a> <a href="/tags/%E5%BE%AE%E5%89%8D%E7%AB%AF/" style="font-size: 1.1em; color: #999">微前端</a> <a href="/tags/%E4%BB%A3%E7%A0%81%E6%A3%80%E6%9F%A5/" style="font-size: 1.1em; color: #999">代码检查</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size: 1.1em; color: #999">排序</a> <a href="/tags/%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%9D%97%E5%B0%81%E8%A3%85/" style="font-size: 1.1em; color: #999">路由模块封装</a> <a href="/tags/%E7%BD%91%E7%AB%99/" style="font-size: 1.1em; color: #999">网站</a> <a href="/tags/%E7%AE%A1%E9%81%93%E6%B5%81/" style="font-size: 1.1em; color: #999">管道流</a> <a href="/tags/%E9%93%BE%E8%A1%A8/" style="font-size: 1.1em; color: #999">链表</a> <a href="/tags/var/" style="font-size: 1.1em; color: #999">var</a> <a href="/tags/FS%E6%A8%A1%E5%9D%97/" style="font-size: 1.1em; color: #999">FS模块</a> <a href="/tags/%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/" style="font-size: 1.1em; color: #999">创建项目</a> <a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size: 1.1em; color: #999">动态规划</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.5em; color: #99a9bf">算法</a> <a href="/tags/PATH%E6%A8%A1%E5%9D%97/" style="font-size: 1.1em; color: #999">PATH模块</a> <a href="/tags/%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/" style="font-size: 1.1em; color: #999">目录结构</a> <a href="/tags/GET/" style="font-size: 1.1em; color: #999">GET</a> <a href="/tags/%E5%89%91%E6%8C%87offer/" style="font-size: 1.1em; color: #999">剑指offer</a> <a href="/tags/Vuex/" style="font-size: 1.1em; color: #999">Vuex</a> <a href="/tags/%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95/" style="font-size: 1.1em; color: #999">回溯算法</a></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 伍新奎</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://lib.baomitu.com/fancyapps-ui/5.0.24/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div></div></body></html>